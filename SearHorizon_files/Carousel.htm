<!DOCTYPE html>
<!-- saved from url=(0147)http://static.parastorage.com/services/tpa/2.656.5/external/Carousel/Carousel.html?compId=TP3DCrsl0-1743&deviceType=desktop&locale=en&viewMode=site -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <!--<script type="text/javascript" src="jquery-1.8.3.js"></script>-->
    <style type="text/css">
        html, body, .wrapper {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }
        img{
            border:0;
        }
    </style>

<style type="text/css"></style></head>
<body>

<div class="wrapper">
    <div id="sb-slider" style="display: block; width: 590px; height: 255px; background-color: transparent; overflow: hidden; position: relative; background-position: initial initial; background-repeat: initial initial;"><div style="position: absolute; width: 100%; height: 100%; display: block;"><img width="245" height="152" class="cloudcarousel" title="fb_upg1.png" alt="" src="dc8e95_b087a74973fd4709b9c55b5bca22fd51.png_srz_245_152_75_22_0.5_1.2_75_png_srz" style="cursor: pointer; position: absolute; left: 172.5px; top: 42.5px; z-index: 100; opacity: 1;"><img width="150" height="93" class="cloudcarousel" title="fb_upg4.png" alt="" src="dc8e95_aa77d2733df547bdb866a9c748833acb.png_srz_245_152_75_22_0.5_1.2_75_png_srz" style="cursor: pointer; position: absolute; left: 39.28124999999994px; top: 21.25px; z-index: 61; opacity: 0.6125000000000002;"><img width="55" height="34" class="cloudcarousel" title="fb_upg3.png" alt="" src="dc8e95_31440056a3984cf38f92a86ac0308b9f.png_srz_245_152_75_22_0.5_1.2_75_png_srz" style="cursor: pointer; position: absolute; left: 267.4375px; top: 16.46875px; z-index: 22; opacity: 0.225;"><img width="150" height="93" class="cloudcarousel" title="fb_upg2.png" alt="" src="dc8e95_976d39e69ffb4a9f9f9d3e114d3d9622.png_srz_245_152_75_22_0.5_1.2_75_png_srz" style="cursor: pointer; position: absolute; left: 400.65625px; top: 21.249999999999996px; z-index: 61; opacity: 0.6124999999999999;"></div></div>
    <!-- Define left and right buttons. -->
    <!--<input id="left-but"  type="button" value="Left" />-->
    <!--<input id="right-but" type="button" value="Right" />-->

    <!-- Define elements to accept the alt and title text from the images. -->
    <!--<p id="title-text"></p>-->
    <!--<p id="alt-text"></p>-->
</div>
<!-- /wrapper -->
<script type="text/javascript" async="" src="ga.js"></script><script src="Wix.js"></script>
<script type="text/javascript" src="jquery.min.js"></script>
<script type="text/javascript" src="jquery.hammer.min.js"></script>
<script type="text/javascript" src="jquery.mousewheel.js"></script>
<script type="text/javascript" src="cloud-carousel.1.0.5.js"></script>

<script type="text/javascript">
    var sliderEl = $('#sb-slider');
    var items = [];
    var props = {};
    var currentMode = {};
    var widthDivider = 2.4;
    var heightDivider = 1.6108;
    var initWidth = Math.floor($(window).innerWidth()/widthDivider);
    var initHeight = Math.floor(initWidth/heightDivider);

    function Dummy(w,h) {

        w=w|| $(window).innerWidth()/3;
        h=h|| $(window).innerHeight()/2;

        sliderEl.html('<img width="'+w+'" height="'+h+'" class="cloudcarousel" src="https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSGwpiAcEg8KjbYqbGT1WLajcw0fjHvvy45l8tSRuZQzaak4iiF" alt="">' +
                '<img width="'+w+'" height="'+h+'" class="cloudcarousel" src="https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSGwpiAcEg8KjbYqbGT1WLajcw0fjHvvy45l8tSRuZQzaak4iiF" alt="">' +
                '<img width="'+w+'" height="'+h+'" class="cloudcarousel" src="https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSGwpiAcEg8KjbYqbGT1WLajcw0fjHvvy45l8tSRuZQzaak4iiF" alt="">' +
                '<img width="'+w+'" height="'+h+'" class="cloudcarousel" src="https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSGwpiAcEg8KjbYqbGT1WLajcw0fjHvvy45l8tSRuZQzaak4iiF" alt="">' +
                '<img width="'+w+'" height="'+h+'" class="cloudcarousel" src="https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSGwpiAcEg8KjbYqbGT1WLajcw0fjHvvy45l8tSRuZQzaak4iiF" alt="">' +
                '<img width="'+w+'" height="'+h+'" class="cloudcarousel" src="https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSGwpiAcEg8KjbYqbGT1WLajcw0fjHvvy45l8tSRuZQzaak4iiF" alt="">' +
                '<img width="'+w+'" height="'+h+'" class="cloudcarousel" src="https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSGwpiAcEg8KjbYqbGT1WLajcw0fjHvvy45l8tSRuZQzaak4iiF" alt="">' +
                '<img width="'+w+'" height="'+h+'" class="cloudcarousel" src="https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSGwpiAcEg8KjbYqbGT1WLajcw0fjHvvy45l8tSRuZQzaak4iiF" alt="">' +
                '<img width="'+w+'" height="'+h+'" class="cloudcarousel" src="https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSGwpiAcEg8KjbYqbGT1WLajcw0fjHvvy45l8tSRuZQzaak4iiF" alt="">' +
                '<img width="'+w+'" height="'+h+'" class="cloudcarousel" src="https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSGwpiAcEg8KjbYqbGT1WLajcw0fjHvvy45l8tSRuZQzaak4iiF" alt="">' +
                '<img width="'+w+'" height="'+h+'" class="cloudcarousel" src="https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSGwpiAcEg8KjbYqbGT1WLajcw0fjHvvy45l8tSRuZQzaak4iiF" alt="">' +
                '<img width="'+w+'" height="'+h+'" class="cloudcarousel" src="https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSGwpiAcEg8KjbYqbGT1WLajcw0fjHvvy45l8tSRuZQzaak4iiF" alt="">' +
                '<img width="'+w+'" height="'+h+'" class="cloudcarousel" src="https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSGwpiAcEg8KjbYqbGT1WLajcw0fjHvvy45l8tSRuZQzaak4iiF" alt="">' +
                '<img width="'+w+'" height="'+h+'" class="cloudcarousel" src="https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSGwpiAcEg8KjbYqbGT1WLajcw0fjHvvy45l8tSRuZQzaak4iiF" alt="">' +
                '<img width="'+w+'" height="'+h+'" class="cloudcarousel" src="https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSGwpiAcEg8KjbYqbGT1WLajcw0fjHvvy45l8tSRuZQzaak4iiF" alt="">');

    }

    var tm;
    window.onresize = function () {
        clearTimeout(tm);
        tm = setTimeout(function () {
            refreshSlider()
        }, 120);
    }

    Wix.addEventListener(Wix.Events.SETTINGS_UPDATED, function(message) {
        if(message.cmd === 'zoomClosed'){
            updateAutoPlay();
        }else{
            props = message.props || {};
            items = message.items || [];
            refreshSlider();
        }
    });

    Wix.addEventListener(Wix.Events.PAGE_NAVIGATION_CHANGE, function() {
        updateAutoPlay();
        //console.log('Wix.Events.PAGE_NAVIGATION_CHANGE', arguments);
    });

    Wix.addEventListener(Wix.Events.EDIT_MODE_CHANGE, function(mode) {
        currentMode = mode;
        updateAutoPlay()
    });


    function getPerfectImageSize(viewPortWidth, viewPortHeight, imageWidth, imageHeight){

        var delta = 60;

        var w = viewPortWidth;
        var h = viewPortHeight;

        var viewPortRatio = w/h;

        var iw = imageWidth;
        var ih = imageHeight;

        if(iw < w && ih < h){

            if(iw/w < ih/h){

                ih = iw / viewPortRatio;

            } else {

                iw = ih * viewPortRatio;

            }

        } else if(iw < w){

            ih = iw / viewPortRatio;

        } else if(ih < h){

            iw = ih * viewPortRatio;

        } else {

            iw = w;
            ih = h;

        }

        if(Wix.Utils.getViewMode() === 'site'){

            return {
                width: iw <<0,//(iw - (iw % delta)) << 0,
                height:ih <<0// (ih - (ih % delta)) << 0
            };

        } else {

            return {
                width: (iw - (iw % delta)) << 0,
                height:(ih - (ih % delta)) << 0
            };

        }


    }

    function updateAutoPlay(){
        var vm = Wix.Utils.getViewMode();
        if(vm === 'preview' || vm === 'site'){
            startAutoPlay();
        }else {
            stopAutoPlay();
        }
    }

    function getPlugin(){
        return sliderEl.data('cloudcarousel');
    }

    function startAutoPlay(){
        if(props.autoplay){
            var plugin = getPlugin();
            //console.log('go',plugin);
            plugin && plugin.startAutoRotate();
        }
    }

    function stopAutoPlay(){
        var plugin = getPlugin();
        //console.log('stop',plugin);
        plugin && plugin.stopAutoRotate();
    }

    function createSliderDom() {
        var item;
        var fragment = document.createDocumentFragment();
        for (var i = 0; i < items.length; i++) {
            item = items[i];
            fragment.appendChild(createSingleItem(item, i))
        }
        return fragment;
    }

    function createSingleItem(item, index) {

        var width = Math.floor($(window).innerWidth()/widthDivider);
        var height = Math.floor(width/heightDivider);

        var img = document.createElement('img');
        img.width = width;
        img.height = height;
        img.className = 'cloudcarousel';
        img.title = item.title;
        img.alt = item.description;

        var imagePerfectSize = getPerfectImageSize(width, height, item.width, item.height);

        img.src = Wix.Utils.Media.getResizedImageUrl(item.uri, imagePerfectSize.width, imagePerfectSize.height);//{{src}}

        if(props.galleryImageOnClickAction === 'zoomMode'){
            img.style.cursor = 'pointer';
            img.onclick = function(evt){
                if(+img.style.zIndex === 100){
                    Wix.pushState(JSON.stringify({cmd:'zoom', args:[index]}));
                    stopAutoPlay();
                    return false;
                }
            };
        }

        if(item.linkType !== "FREE_LINK" && props.galleryImageOnClickAction === 'goToLink'){
            var uri;
            var navigate;
            var a = document.createElement('a');

            if (item.linkType === 'DOCUMENT') {
                uri = item.href//Wix.Utils.Media.getDocumentUrl(item.uri);
            }

            if(item.linkType === 'PAGE'){
                uri = '#';
                navigate = function(){
                    stopAutoPlay();
                    Wix.navigateToPage(item.href.split('/').pop());
                }
            }

            a.onclick = function(){
                if(+$(img).andSelf().find('img').css('zIndex')=== 100){
                    if(navigate){
                        navigate();
                        return false;
                    }
                    return true;
                }
                return false;
            }

            a.href = uri || item.href;
            a.alt = item.title;
            a.target = item.target === '_self' ? '_parent' : item.target;
            a.appendChild(img);
            img = a;
        }

        return img;
    }

    function refreshSlider(items) {
        destroySlider();
        sliderEl.empty().append(createSliderDom(items));
        startSlider();
    }

    function destroySlider() {
        var plugin = getPlugin();
        plugin && plugin.destroy();
        sliderEl.hide();
    }

    function startSlider() {
        //console.log(items);
        var width = $(window).innerWidth();
        var height = $(window).innerHeight();

        var widthImage = Math.floor($(window).innerWidth()/widthDivider);
        var heightImage = Math.floor(width/heightDivider);

        sliderEl.css({
            width: width,
            height: height,
            background: 'transparent',
            overflow: 'hidden'
        });

        sliderEl.fadeIn(100);

        var ms = ((+props.autoplayInterval) * 1000);
        ms = ms < 1000 ? 1000 : ms;

        sliderEl.CloudCarousel({
            //xRadius: 0,
          //  yRadius:0  ,
            autoRotateDelay: ms >= 0 ? ms : 5000,
            autoRotate: props.autoplay || false,
            bringToFront: true,
            reflHeight:0, //heightImage/10<<0,
            xPos: width / 2,
            yPos: height / 12
            //   buttonLeft: $("#left-but"),
            //   buttonRight: $("#right-but"),
            //  altBox: $("#alt-text"),
            //    titleBox: $("#title-text")
        });

        var plugin = getPlugin();
        if(plugin){
            plugin.initEvent = function(){
                updateAutoPlay();
            }
        }
    }

</script>

</body></html>